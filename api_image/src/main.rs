#[macro_use]
extern crate diesel;

extern crate dotenv;

use diesel::pg::PgConnection;
use diesel::prelude::*;
use dotenv::dotenv;
use std::env;

mod models;
mod schema;

fn main() {
    dotenv().ok();
    let database_url = env::var("DATABASE_URL").expect("set DATABASE_URL");
    let conn = PgConnection::establish(&database_url).unwrap();

    let image = models::NewImage {
        nameimg: String::from("Image 1"),
        img: String::from("data:image/jpeg;base64,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"),
    };

    if models::Image::insert(image, &conn){
        println!("success");
    } else {
        println!("failed");
    }
}
